# 사내 카페 예약 시스템 - 구현 설명서

이 문서는 비개발자도 쉽게 따라할 수 있도록 상세하게 작성되었습니다.

---

## 목차
1. [전체 구조 이해하기](#1-전체-구조-이해하기)
2. [파일 설명](#2-파일-설명)
3. [Google Sheets 설정하기](#3-google-sheets-설정하기)
4. [Google Apps Script 설정하기](#4-google-apps-script-설정하기)
5. [웹페이지와 연결하기](#5-웹페이지와-연결하기)
6. [웹페이지 호스팅하기](#6-웹페이지-호스팅하기)
7. [카페 정보 수정하기](#7-카페-정보-수정하기)
8. [문제 해결](#8-문제-해결)

---

## 1. 전체 구조 이해하기

이 시스템은 다음과 같이 작동합니다:

```
[사용자] → [웹페이지에서 예약 폼 작성] → [Google Apps Script] → [Google Sheets에 저장]
```

- **웹페이지**: 직원들이 카페 정보를 보고 예약하는 화면
- **Google Sheets**: 예약 정보가 저장되는 데이터베이스 역할
- **Google Apps Script**: 웹페이지와 Google Sheets를 연결해주는 중간 역할

---

## 2. 파일 설명

| 파일명 | 역할 | 수정 필요 여부 |
|--------|------|---------------|
| `index.html` | 웹페이지의 구조 (내용) | 카페 정보 수정 시 |
| `style.css` | 웹페이지의 디자인 (색상, 크기 등) | 디자인 변경 시 |
| `script.js` | 웹페이지의 동작 (예약 전송 등) | Apps Script URL 입력 필요 |
| `apps-script.gs` | Google Sheets 연결 코드 | Google에 복사 필요 |

---

## 3. Google Sheets 설정하기

### 3.1 새 스프레드시트 만들기

1. **Google 계정 로그인**
   - 브라우저에서 [Google Drive](https://drive.google.com) 접속
   - 회사 Google 계정으로 로그인

2. **새 스프레드시트 만들기**
   - 왼쪽 상단의 `+ 새로 만들기` 버튼 클릭
   - `Google 스프레드시트` 선택
   - 빈 스프레드시트 선택

3. **스프레드시트 이름 변경**
   - 왼쪽 상단의 `제목 없는 스프레드시트` 클릭
   - `사내카페_예약목록`으로 변경

---

## 4. Google Apps Script 설정하기

### 4.1 Apps Script 편집기 열기

1. 스프레드시트 상단 메뉴에서 `확장 프로그램` 클릭
2. `Apps Script` 클릭
3. 새 탭에서 Apps Script 편집기가 열림

### 4.2 코드 붙여넣기

1. 기존에 있는 `function myFunction() { }` 코드를 **모두 삭제**

2. `apps-script.gs` 파일의 **전체 내용**을 복사하여 붙여넣기
   - 메모장이나 VS Code로 `apps-script.gs` 파일 열기
   - `Ctrl + A`로 전체 선택
   - `Ctrl + C`로 복사
   - Apps Script 편집기에 `Ctrl + V`로 붙여넣기

3. **저장하기**
   - `Ctrl + S` 또는 디스크 아이콘 클릭
   - 프로젝트 이름 입력: `카페예약시스템`

### 4.3 스프레드시트 초기 설정 실행

1. 상단의 함수 선택 드롭다운에서 `setupSpreadsheet` 선택
2. `실행` 버튼 클릭 (▶ 모양)
3. **권한 요청 팝업이 뜨면:**
   - `권한 검토` 클릭
   - 본인 Google 계정 선택
   - "Google에서 확인하지 않은 앱입니다" 메시지가 뜨면 `고급` 클릭
   - `카페예약시스템(안전하지 않음)(으)로 이동` 클릭
   - `허용` 클릭
4. 스프레드시트로 돌아가면 헤더가 설정되어 있음

### 4.4 웹앱으로 배포하기

1. Apps Script 편집기 오른쪽 상단의 `배포` 버튼 클릭
2. `새 배포` 선택
3. 설정 화면에서:
   - 왼쪽의 톱니바퀴 아이콘 옆 `유형 선택` 클릭
   - `웹 앱` 선택
4. 배포 설정:
   - **설명**: `카페 예약 시스템 v1`
   - **실행 주체**: `나` 선택
   - **액세스 권한**: `모든 사용자` 선택
5. `배포` 버튼 클릭
6. **웹 앱 URL 복사**
   - `https://script.google.com/macros/s/...` 형태의 URL이 표시됨
   - 이 URL을 **반드시 복사하여 메모**해두세요!

---

## 5. 웹페이지와 연결하기

### 5.1 Apps Script URL 입력하기

1. `script.js` 파일을 메모장 또는 VS Code로 열기

2. 파일 상단에서 다음 줄을 찾기:
   ```javascript
   const APPS_SCRIPT_URL = 'YOUR_APPS_SCRIPT_WEB_APP_URL_HERE';
   ```

3. `YOUR_APPS_SCRIPT_WEB_APP_URL_HERE` 부분을 **복사해둔 웹 앱 URL**로 교체:
   ```javascript
   const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/여러분의URL/exec';
   ```

4. 파일 저장 (`Ctrl + S`)

---

## 6. 웹페이지 호스팅하기

웹페이지를 인터넷에 공개하는 방법입니다. 여러 가지 방법 중 가장 쉬운 방법들을 소개합니다.

### 방법 1: 회사 내부 서버 사용 (권장)
- IT 부서에 문의하여 내부 웹서버에 파일 업로드
- 보안상 가장 안전한 방법

### 방법 2: GitHub Pages 사용 (무료)

1. **GitHub 계정 만들기**
   - [GitHub](https://github.com) 접속
   - `Sign up` 클릭하여 계정 생성

2. **새 저장소(Repository) 만들기**
   - 로그인 후 오른쪽 상단의 `+` 버튼 → `New repository`
   - Repository name: `cafe-reservation`
   - `Public` 선택
   - `Create repository` 클릭

3. **파일 업로드**
   - `uploading an existing file` 링크 클릭
   - `index.html`, `style.css`, `script.js` 파일을 드래그 앤 드롭
   - `Commit changes` 클릭

4. **GitHub Pages 활성화**
   - 저장소의 `Settings` 탭 클릭
   - 왼쪽 메뉴에서 `Pages` 클릭
   - Source에서 `Deploy from a branch` 선택
   - Branch에서 `main` 선택, 폴더는 `/(root)` 선택
   - `Save` 클릭

5. **웹사이트 주소 확인**
   - 몇 분 후 `https://사용자이름.github.io/cafe-reservation` 주소로 접속 가능

### 방법 3: 로컬에서 테스트 (개인 PC에서만)
- `index.html` 파일을 더블클릭하면 브라우저에서 열림
- 단, 이 방법은 본인 PC에서만 확인 가능

---

## 7. 카페 정보 수정하기

### 7.1 카페 위치/운영시간 변경

`index.html` 파일에서 다음 부분을 찾아 수정:

```html
<div class="info-card">
    <h3>📍 위치</h3>
    <p>본사 1층 로비 옆</p>  <!-- 이 부분 수정 -->
</div>

<div class="info-card">
    <h3>🕐 운영 시간</h3>
    <p>평일: 08:00 - 18:00</p>  <!-- 이 부분 수정 -->
    <p>주말 및 공휴일: 휴무</p>
</div>
```

### 7.2 메뉴 추가/수정

`index.html` 파일에서 메뉴 리스트 부분을 찾아 수정:

```html
<ul class="menu-list">
    <li><span>아메리카노</span><span>무료</span></li>
    <li><span>새로운메뉴</span><span>가격</span></li>  <!-- 새 메뉴 추가 -->
</ul>
```

### 7.3 예약 시간 변경

`index.html` 파일에서 시간 선택 부분을 수정:

```html
<select id="time" name="time" required>
    <option value="">시간을 선택하세요</option>
    <option value="09:00">09:00</option>  <!-- 시간 추가/삭제 -->
    <!-- ... -->
</select>
```

### 7.4 색상 변경

`style.css` 파일에서 메인 색상 변경:

```css
/* 갈색 (#8B4513)을 원하는 색상으로 변경 */
.logo {
    color: #8B4513;  /* 여기 색상 코드 변경 */
}
```

색상 코드 참고:
- 파란색: `#2196F3`
- 초록색: `#4CAF50`
- 빨간색: `#F44336`
- 보라색: `#9C27B0`

---

## 8. 문제 해결

### 문제: 예약 버튼을 눌러도 반응이 없어요

**해결방법:**
1. `script.js` 파일에서 Apps Script URL이 올바르게 입력되었는지 확인
2. URL 앞뒤에 작은따옴표(`'`)가 있는지 확인
3. 브라우저 개발자 도구(F12)에서 Console 탭의 오류 메시지 확인

### 문제: "권한이 필요합니다" 오류가 나요

**해결방법:**
1. Apps Script 편집기에서 `setupSpreadsheet` 함수를 다시 실행
2. 권한 요청이 뜨면 모두 `허용`

### 문제: 예약 데이터가 스프레드시트에 저장되지 않아요

**해결방법:**
1. Apps Script가 웹앱으로 배포되었는지 확인
2. 배포 시 "액세스 권한"이 "모든 사용자"로 설정되었는지 확인
3. URL이 `/exec`으로 끝나는지 확인 (`/dev`가 아님)

### 문제: 웹페이지 디자인이 깨져 보여요

**해결방법:**
1. `index.html`, `style.css`, `script.js` 파일이 같은 폴더에 있는지 확인
2. 파일명이 정확한지 확인 (대소문자 구분)

### 문제: 이메일 알림이 안 와요

**해결방법:**
1. 스팸 메일함 확인
2. Apps Script에서 이메일 발송 권한이 허용되었는지 확인
3. 일일 이메일 발송 한도(100건) 초과 여부 확인

---

## 추가 도움이 필요하시면?

- **IT 부서 내선**: 1234
- **시스템 관리자**: admin@company.com

이 문서로 해결되지 않는 문제가 있다면 IT 부서로 문의해주세요.

---

*마지막 업데이트: 2024년 12월*
